<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css" media="screen" type="text/css">
    <script src="https://unpkg.com/react/umd/react.development.js" crossorigin=""></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js" crossorigin=""></script>
    <script src="https://unpkg.com/babel-standalone/babel.min.js"></script>

    <script>
        function draw() {
            "use strict";
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');

            //Rysujemy samochód
            ctx.beginPath();
            ctx.moveTo(2 + 1.5, 40 - 15);
            ctx.lineTo(8 + 1.5, 32 - 15);
            ctx.lineTo(30.6 + 1.5, 32 - 15);
            ctx.arc(30 + 1.5, 36 - 15, 4, 30, 2 * Math.PI);
            ctx.lineTo(34 + 1.5, 36 - 15);
            ctx.lineTo(34 + 1.5, 40 - 15);
            ctx.lineTo(42 + 1.5, 40 - 15);
            ctx.arc(42 + 1.5, 44 - 15, 4, 30, 2 * Math.PI);
            ctx.lineTo(46 + 1.5, 48 - 15);
            ctx.lineTo(37.4 + 1.5, 48 - 15);
            ctx.lineTo(13.6 + 1.5, 48 - 15);
            ctx.lineTo(2 + 1.5, 48 - 15);
            ctx.lineTo(2 + 1.5, 40 - 15);
            ctx.fillStyle = '#F3D723';
            ctx.fill();
            ctx.stroke();

            //Rysujemy okna
            ctx.beginPath();
            ctx.moveTo(8 + 2.5, 36 - 11);
            ctx.lineTo(8 + 2.5, 32 - 12);
            ctx.lineTo(30.6 - 2.5, 32 - 12);
            ctx.arc(30 - 2.5, 36 - 12, 4, 30, 2 * Math.PI);
            ctx.lineTo(34 - 2.5, 36 - 11);
            ctx.lineTo(34 - 2.5, 36 - 11);
            ctx.lineTo(8 + 2.5, 36 - 11);
            ctx.fillStyle = '#898888';
            ctx.fill();
            ctx.stroke();


            // Rysujemy koła
            ctx.beginPath();
            ctx.arc(34 + 1.5, 46 - 15, 4, 0, 2 * Math.PI);
            ctx.fillStyle = 'black';
            ctx.fill();
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(34 + 1.5, 46 - 15, 1, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(10 + 1.5, 46 - 15, 4, 0, 2 * Math.PI);
            ctx.fillStyle = 'black';
            ctx.fill();
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(10 + 1.5, 46 - 15, 1, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();
            ctx.stroke();
        }
    </script>
    <!-- <script src="script2.js"></script> -->

    <title>
        Sklep samochodowy
    </title>
</head>

<body onload="draw()">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg" style="background-color: #FFC107;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <canvas id="canvas" width="50" height="50">
                    Wygląda na to, że twoja przeglądarka nie obsługuje elementu "canvas"
                </canvas>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <div class="dropdown">
                        <a class="btn btn-warning dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Samochody
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Elektryczne</a></li>
                            <li><a class="dropdown-item" href="#">Spalinowe</a></li>
                        </ul>
                    </div>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Szukaj" aria-label="Search">
                    <button class="btn btn-warning" type="submit">Szukaj</button>
                </form>
            </div>
        </div>
    </nav>

    <main>
        <div class="d-sm-flex flex-row">
            <div class="azure flex-column" id="mercedes">
                <img src="pictures/amg-gt.jpg" alt="Tu jest mercedes">
                <div class="content">
                    <h4>Mercedes AMG-GT</h4>
                    <ul>
                        <li>Silnik V8 o pojemności 4 litrów</li>
                        <li>Moc nawet do 500 KM</li>
                    </ul>
                </div>
            </div>
            <div class=" azure flex-column" id="fiat">
                <img src="pictures/fiat500.jpg" alt="Tu jest fiat">
                <div class="content">
                    <h4>Fiat 500</h4>
                    <ul>
                        <li>Silnik elektryczny</li>
                        <li>Zasięg 400km</li>
                    </ul>
                    <div>
                        <p>Liczba dostępnych modeli: </p>

                    </div>
                </div>
            </div>
        </div>

        <div class="d-sm-flex flex-row-reverse">
            <div class=" azure flex-column" id="bmw">
                <img class="right-align" src="pictures/BMW.jpg" alt="BMW">
                <div class="content">
                    <h4>BMW</h4>
                    <div>Liczba dostępnych modeli: </div>
                </div>
            </div>
            <div class="azure flex-column" id="volvo">
                <img src="pictures/volvo.jpg" alt="Volvo">
                <div class=" content">
                    <h4>Volvo</h4>
                    <div>Liczba dostępnych modeli: </div>
                </div>
            </div>
        </div>


        <div id="cards">
        </div>


        <div class="d-sm-flex flex-row text-white" style="background-color: green;">
            &copy;Szablony CyberAGH
        </div>
    </main>

    <script type="text/babel">
        const productsData = [
            { name: "BMW", quantity: 10, price: 800000 },
            { name: "Fiat", quantity: 25, price: 50000 },
            { name: "Mercedes", quantity: 15, price: 1000000 },
            { name: "Volvo", quantity: 8, price: 400000 }
        ];

        class Transaction extends React.Component {
            print = (product) => {
                let container = document.querySelector("#cards");
                let selectedProduct = product.name;

                if (product.quantity > 0) {
                    let customer = prompt("Please enter your name and surname", "Jan Kowalski");
                    if (customer) {
                        this.props.updateQuantity(product.name);

                        const now = new Date();
                        const transactionDetails = `Data: ${now.getDate()}.${now.getMonth() + 1}.${now.getFullYear()}r. | Klient: ${customer} | Produkt: ${product.name} | Liczba sztuk: 1`;
                        container.appendChild(document.createTextNode(transactionDetails));
                        container.appendChild(document.createElement('br'));

                        // Do something with transactionDetails (e.g., display it in the UI)
                    }
                } else {
                    alert("Product is out of stock!");
                }
            }

            render() {
                return <button onClick={() => this.print(this.props.product)}>Click me</button>
            }
        }

        class Counter extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    productsData: props.productsData,
                };
            }

            updateQuantity = (productName) => {
                this.setState((prevState) => ({
                    productsData: prevState.productsData.map((product) =>
                        product.name === productName ? { ...product, quantity: product.quantity - 1 } : product
                    ),
                }));
            };


            render() {
                return (
                    <div className="container-sm d-sm-flex flex-row">
                        {this.state.productsData.map((product) => (
                            <div className={`azure flex-column ${product.outOfStock ? 'gray-background' : ''}`} key={product.name}>
                                <Transaction product={product} updateQuantity={this.updateQuantity} />
                                Liczba dostępnych sztuk: {product.quantity}
                            </div>
                        ))}
                    </div>
                );
            }
        }

        ReactDOM.createRoot(document.querySelector("#cards")).render(<Counter productsData={productsData} />)
    </script>




</body>

</html>